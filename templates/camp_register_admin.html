<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Camp Registration (Admin)</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light p-4">
  <div class="container">

    <!-- Title -->
    <h2 class="text-center text-danger mb-4">ðŸ©¸ On-Spot Camp Registrations</h2>

    <!-- Form -->
    <form method="POST" class="card p-4 mb-4 mx-auto" style="max-width: 600px;">
      <!-- Camps -->
      <select name="camp_id" class="form-select mb-3" required>
        <option value="">Select Active Camp</option>
        {% for camp in active_camps %}
          <option value="{{ camp[0] }}">{{ camp[1] }} â€” {{ camp[2] }} ({{ camp[3] }})</option>
        {% endfor %}
      </select>

      <!-- Donor inputs -->
      <input type="text" name="donor_name" class="form-control mb-3" placeholder="Donor Name" required>
      <input type="number" name="amount" class="form-control mb-3" placeholder="Donation Amount (ml)" required>

      <button class="btn btn-danger w-100">Register Walk-in Donor</button>
    </form>

    <!-- Today's Entries -->
    <div class="card p-4">
      <h5 class="text-danger fw-bold mb-3">ðŸ“‹ Today's Registrations</h5>

      <table class="table table-hover text-center">
        <thead>
          <tr>
            <th>ID</th><th>Donor</th><th>Camp</th><th>Amount</th>
            <th>Mode</th><th>Status</th><th>Time</th>
          </tr>
        </thead>

        <tbody>
          {% if registrations %}
            {% for r in registrations %}
            <tr>
              <td>{{ r[0] }}</td><td>{{ r[1] }}</td><td>{{ r[2] }}</td><td>{{ r[3] }}</td>
              <td><span class="badge bg-info">{{ r[4] }}</span></td>
              <td>
                <span class="badge {% if r[5]=='Confirmed' %}bg-success{% else %}bg-warning{% endif %}">
                  {{ r[5] }}
                </span>
              </td>
              <td>{{ r[6] }}</td>
            </tr>
            {% endfor %}
          {% else %}
            <tr><td colspan="7" class="text-muted">No registrations yet.</td></tr>
          {% endif %}
        </tbody>
      </table>

    </div>
  </div>
</body>
</html>
